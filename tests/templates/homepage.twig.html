{% import _self as func %}

{% macro listFeatures(features) %}
    {% import _self as self %}

    <ul>
    {% for feature in features %}
        {% if feature is iterable %}
            {{ self.listFeatures(feature) }}
        {% else %}
            <li><a href="?feature={{ feature.id() }}">{{ feature.parsed().getTitle() }}</a></li>
        {% endif %}
    {% endfor %}
    </ul>
{% endmacro %}

<html>
  <body>
    <h1>Features:</h1>
    {{ func.listFeatures(features) }}
  </body>
</html>
